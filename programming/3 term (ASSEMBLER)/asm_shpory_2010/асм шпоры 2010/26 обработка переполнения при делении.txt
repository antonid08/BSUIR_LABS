26. Обработка переполнения при делении чисел. Числа ввести с клавиатуры

Используя  команды  DIV  и  особенно  IDIV,  очень  просто    вызвать
пеpеполнение. Прерывания приводят (по крайней мара в системе, используемой
при тестировании этих программ) к непредсказуемым результатам. В операциях
деления предполагается,  что  частное  значительно  меньше,  чем  делимое.
Деление на ноль всегда вызывает прерывание.  Но деление  на  1  генерирует
частное, которое равно делимому, что может также легко вызвать прерывание.
     Рекомендуется использовать следующее правило: если делитель  -  байт,
то его значение должно быть меньше, чем левый  байт  (AH)  делителя:  если
делитель - слово, то его значение должно быть меньше, чем левое слово (DX)
делителя. Проиллюстрируем данное правило для делителя, равного 1:

          Операция деления:          Делимое   Делитель  Частное

          Слово на байт:                0123        01     (1)23
          Двойное слово на слово:  0001 4026      0001   (1)4026

В обоих  случаях  частное  превышает  возможный  размер.  Для  того  чтобы
избежать подобных ситуаций, полезно вставлять перед командами DIV  и  IDIV
соответствующую проверку.  В первом из следующих примеpов предположим, что
DIVBYTE - однобайтовый делитель, а делимое находится уже в регистре AX. Во
втором примере предположим, что DIVWORD - двухбайтовый делитель, а делимое
находится в регистровой паре DX:AX.

               Слово на байт            Двойное слово на байт

               CMP  AH,DIVBYTE          CMP  DX,DIVWORD
               JNB  переполнение        JNB  переполнение
               DIV  DIVBYTE             DIV  DIVWORD

     Для команды IDIV данная логика должна учитывать тот  факт,  что  либо
делимое, либо делитель могут быть отрицательными, а так  как  сравниваются
абсолютные значения, то необходимо использовать команду NEG для временного
перевода отрицательного значения в положительное.